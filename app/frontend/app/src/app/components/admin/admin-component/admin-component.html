<div class="admin-wrapper">
  <header class="admin-header">
    <img src="uploads/logo.png" alt="Mountain Cabin logo" class="logo">
    <h2>Admin panel</h2>
    <button class="logout-btn" (click)="logout()">Odjava</button>
  </header>

  <main class="admin-content">
    <h3>Upravljanje korisnicima</h3>
    <p class="message">{{ message }}</p>

    <div class="table-container">
      <table class="user-table">
        <thead>
          <tr>
            <th>Korisniƒçko ime</th>
            <th>Aktivan</th>
            <th>Blokiran</th>
            <th>Akcije</th>
          </tr>
        </thead>

        <tbody>
          @for (u of allUsers; track u.username) {
            <tr>
              <td>{{ u.username }}</td>
              <td>
                <span class="status" [class.active]="u.isActive" [class.inactive]="!u.isActive">
                  {{ u.isActive ? 'Da' : 'Ne' }}
                </span>
              </td>
              <td>
                <span class="status" [class.blocked]="u.isBlocked" [class.unblocked]="!u.isBlocked">
                  {{ u.isBlocked ? 'Da' : 'Ne' }}
                </span>
              </td>
              <td class="actions">
                <button (click)="activateUser(u.username)" [disabled]="u.isActive">Aktiviraj</button>
                <button (click)="deactivateUser(u.username)" [disabled]="!u.isActive">Deaktiviraj</button>
                <button (click)="blockUser(u.username)" [disabled]="u.isBlocked">Blokiraj</button>
                <button (click)="unblockUser(u.username)" [disabled]="!u.isBlocked">Odblokiraj</button>
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </main>
</div>
