<div class="register-container">
  <div class="left-panel">
    <img src="uploads/logo.png" alt="Mountain Cabin logo" class="logo">
    <h2>Dobrodošli u Mountain Cabin</h2>
    <p>Pridružite se zajednici ljubitelja prirode.</p>
  </div>

  <div class="right-panel">
    <h3 class="form-title">Registracija korisnika</h3>

    <div class="upload-section">
      <label>Profilna slika</label>
      <input type="file" (change)="onFileSelected($event)" accept="image/*">
      <p class="message">{{ messageImage }}</p>

      @if (imagePreview) {
        <div class="image-preview">
          <img [src]="imagePreview" alt="Profilna slika">
        </div>
      }
    </div>

    <div class="form-group">
      <label>Korisničko ime</label>
      <input type="text" [(ngModel)]="user.username" placeholder="Unesite korisničko ime">
    </div>

    <div class="form-group">
      <label>Lozinka</label>
      <input type="password" [(ngModel)]="user.password" placeholder="Unesite lozinku">
    </div>

    <div class="form-group">
      <label>Ime</label>
      <input type="text" [(ngModel)]="user.firstname" placeholder="Unesite ime">
    </div>

    <div class="form-group">
      <label>Prezime</label>
      <input type="text" [(ngModel)]="user.lastname" placeholder="Unesite prezime">
    </div>

    <div class="form-group">
      <label>Adresa</label>
      <input type="text" [(ngModel)]="user.address" placeholder="Unesite adresu">
    </div>

    <div class="form-group">
      <label>Telefon</label>
      <input type="text" [(ngModel)]="user.phone" placeholder="Unesite broj telefona">
    </div>

    <div class="form-group">
      <label>E-mail</label>
      <input type="text" [(ngModel)]="user.email" placeholder="Unesite e-mail adresu">
    </div>

    <div class="form-group">
      <label>Broj kreditne kartice</label>
      <input type="text" [(ngModel)]="user.creditCardNumber" (input)="checkCardType()" placeholder="Unesite broj kartice">

      @if (cardType === 'visa') {
        <img src="visa.png" alt="Visa" width="50">
      } @else if (cardType === 'mastercard') {
        <img src="mastercard.png" alt="MasterCard" width="50">
      } @else if (cardType === 'diners') {
        <img src="diners.png" alt="Diners" width="50">
      }
    </div>

    <div class="radio-section">
      <h4>Pol</h4>
      <label><input type="radio" name="gender" [(ngModel)]="user.gender" value="male"> Muški</label>
      <label><input type="radio" name="gender" [(ngModel)]="user.gender" value="female"> Ženski</label>
    </div>

    <div class="radio-section">
      <h4>Tip korisnika</h4>
      <label><input type="radio" name="type" [(ngModel)]="user.userType" value="owner"> Vlasnik</label>
      <label><input type="radio" name="type" [(ngModel)]="user.userType" value="tourist"> Turista</label>
    </div>

    <button class="register-btn" (click)="register()">Registruj se</button>
    <p class="message" [class.has-message]="message">{{ message }}</p>

    <div class="back-link">
      <a routerLink="../login">Nazad na prijavu</a>
    </div>

    <button class="back-btn" (click)="back()">Nazad</button>
  </div>
</div>
